# 安装环境
---
这里只介绍各种基本的环境，和启动的基本命令

## docker
> 本项目的基本环境基本都是由docker进行安装，所以docker的基本命令一定要会。[docker镜像库](https://hub.docker.com/)
```shell
# 查看安装的镜像
docker images

# 安装镜像
docker pull xxx

# 查看容器
docker ps -a

# 假如我们安装了一个redis容器，叫做MyRedis，用交互模式进入容器内的终端
docker exec -it MyRedis /bin/bash
```

## MySql
> 安装5.7版本
```shell
docker pull mysql:5.7.31

# 启动 -v 为映射目录到宿主 因为我本地已经安装过mysql5.6并使用了3306端口，所以我影射端口到宿主的13306端口
docker run -p 13306:3306 --name mysql -v /data/mall/mysql/log:/var/log/mysql -v /data/mall/mysql/data:/var/lib/mysql -v /data/mall/mysql/conf:/etc/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7.31
```

## Redis
> 安装最新版
```shell
docker pull redis

# 下载最新的配置文件
# https://raw.githubusercontent.com/redis/redis/6.0/redis.conf
# 修改 appendonly yes

# 启动 -v 为映射目录到宿主 因为我本地已经安装过redis并使用了6379端口，所以我影射端口到宿主的16379端口
docker run -p 16379:6379 --name redis -v /data/mall/redis/redis.conf:/etc/redis/redis.conf -v /data/mall/redis/data:/data -d redis redis-server /etc/redis/redis.conf
```

## Nacos
> 安装最新版
```shell
docker pull redis

# 配置
mkdir -p /data/mall/nacos/conf /data/mall/nacos/logs
echo 'management.endpoints.web.exposure.include=*' > /data/mall/nacos/conf/custom.properties

# 启动
docker run -d -p 8848:8848 -e MODE=standalone -v /data/mall/nacos/conf:/home/nacos/init.d -v /data/mall/nacos/logs:/home/nacos/logs --restart always --name nacos nacos/nacos-server

# 访问
# http://127.0.0.1:8848/nacos
```
